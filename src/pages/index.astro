---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import AnimatedSection from "../components/AnimatedSection.astro";
---

<Layout title="Inicio">
  <Header />
  <main class="min-h-[calc(100vh-80px)] flex items-center justify-center px-4">
    <AnimatedSection class="w-full">
      <div class="max-w-4xl mx-auto text-center">
        <h1
          class="text-5xl md:text-7xl font-bold leading-tight animate-fade-in-up"
        >
          <span class="text-black/80">Aarón García Sánchez</span>
        </h1>
        <p class="text-xl md:text-2xl mt-6 text-black/70 h-12" id="typing-text">
          21 años · Estudiante de máster en Ciberseguridad · Apasionado por <span
            id="dynamic-word"
            class="font-semibold text-black"></span>
        </p>
        <div
          class="flex flex-wrap gap-3 justify-center mt-8 animate-fade-in-up delay-200"
        >
          {
            [
              "Python",
              "JavaScript",
              "Symfony",
              "MongoDB",
              "Tailwind",
              "Astro",
            ].map((skill) => (
              <span class="px-4 py-2 bg-black/5 text-black rounded-full text-sm font-medium hover:scale-110 hover:bg-black/10 transition-transform duration-200">
                {skill}
              </span>
            ))
          }
        </div>
        <div
          class="mt-10 flex flex-col sm:flex-row gap-4 justify-center animate-fade-in-up delay-300"
        >
          <a
            href="/projects"
            class="bg-black text-cream px-8 py-3 rounded-full font-medium hover:bg-black/80 transition hover:scale-105 shadow-lg"
          >
            Ver proyectos
          </a>
          <a
            href="/about"
            class="border border-black text-black px-8 py-3 rounded-full font-medium hover:bg-black hover:text-cream transition hover:scale-105 shadow-lg"
          >
            Más sobre mí
          </a>
        </div>
      </div>
    </AnimatedSection>
  </main>
</Layout>

<script>
  const words = [
    "tecnología",
    "ciberseguridad",
    "desarrollo web",
    "forense digital",
    "pentesting",
  ];
  let wordIndex = 0,
    charIndex = 0,
    isDeleting = false;
  const dynamicElement = document.getElementById("dynamic-word");

  function typeEffect() {
    if (!dynamicElement) return;
    const currentWord = words[wordIndex];
    if (isDeleting) {
      dynamicElement.textContent = currentWord.substring(0, charIndex - 1);
      charIndex--;
    } else {
      dynamicElement.textContent = currentWord.substring(0, charIndex + 1);
      charIndex++;
    }
    if (!isDeleting && charIndex === currentWord.length) {
      isDeleting = true;
      setTimeout(typeEffect, 2000);
      return;
    }
    if (isDeleting && charIndex === 0) {
      isDeleting = false;
      wordIndex = (wordIndex + 1) % words.length;
      setTimeout(typeEffect, 500);
      return;
    }
    setTimeout(typeEffect, isDeleting ? 50 : 100);
  }
  document.addEventListener("DOMContentLoaded", typeEffect);
</script>

<style>
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  .animate-fade-in-up {
    animation: fadeInUp 0.8s ease-out forwards;
  }
  .delay-200 {
    animation-delay: 0.2s;
  }
  .delay-300 {
    animation-delay: 0.4s;
  }
</style>
